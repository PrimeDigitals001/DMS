<div class="sidebar" 
     [class.sidebar-open]="isOpen"
     (mouseenter)="onMouseEnter()"
     (mouseleave)="onMouseLeave()"
     *ngIf="!authService.isStaff()">
  
  <!-- Logo Section -->
  <div class="sidebar-header">
    <div class="logo-container">
      <i class="pi pi-building" style="font-size: 1.5rem; color: #3b82f6;"></i>
      <span class="logo-text" *ngIf="isOpen">DMS</span>
    </div>
  </div>

  <!-- Navigation Menu -->
  <nav class="sidebar-nav">
    <ul class="menu">
      <li 
        *ngFor="let item of getFilteredMenuItems()" 
        [class.active]="isRouteActive(item.route)"
        (click)="selectMenu(item)"
        class="menu-item"
      >
        <div class="menu-icon">
          <i [class]="getIconClass(item.icon)"></i>
        </div>
        <span class="menu-label" *ngIf="isOpen">{{item.label}}</span>
        
        <!-- Tooltip for collapsed state -->
        <div class="tooltip" *ngIf="!isOpen">
          {{item.label}}
        </div>
      </li>
    </ul>
  </nav>

  <!-- Footer Section -->
  <div class="sidebar-footer" *ngIf="isOpen">
    <div class="user-info">
      <i class="pi pi-user" style="font-size: 1.2rem; color: #64748b;"></i>
      <div class="user-details">
        <span class="user-name">{{ getUserDisplayName() }}</span>
        <span class="user-role">{{ getUserRole() }}</span>
      </div>
    </div>
  </div>
</div>
